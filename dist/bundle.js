!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.match=t():e.match=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(1),o=n(5),i=n(2),a=n(7),f=n(8),s=function(e){var t={uploadUrl:"",type:["png","jpg","jpeg"],method:"POST",id:"#upload",fileName:"image",min:51200,max:2621440,credentials:!0,isMultiple:!1,beforeUpload:function(){},fn:function(e){console.log("upload success")},progress:function(e){}};r.extends(t,e);var n=document.querySelector(t.id);return o(t)?void(window.File?a(n,t):(i(t),f(n,t))):void console.log("缺少必要参数!")};"undefined"!=typeof e&&"undefined"!=typeof e.exports?e.exports=s:window.upload=s},function(e,t){var n={extends:function(e,t){for(var r in t)n.isObject(t[r])&&n.isObject(e[r])?n.extends(e[r],t[r]):e[r]=t[r];return e},clone:function(e){var t;if("object"==typeof e)if(null===e)t=null;else if(e instanceof Array){t=[];for(var n=0,r=e.length;n<r;n++)t.push(this.clone(e[n]))}else{t={};for(var o in e)t[o]=this.clone(e[o])}else t=e;return t},isObject:function(e){return"object"==typeof e&&!(e instanceof Array)},queryString:function(e){var t,n,r=[];for(t in e)e.hasOwnProperty(t)&&(n=e[t],r.push(t+"="+encodeURIComponent(n)));return r.join("&")},getRandomString:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="",o=0;o<e;o++)r+=t.charAt(Math.floor(Math.random()*n));return r},getWidth:function(e){return e.offsetWidth},getHeight:function(e){return e.offsetHeight},prepend:function(e,t){e.innerHTML=t+e.innerHTML},css:function(e,t,n){return n?(e.style[t]=n,e):e.style[t]}};e.exports=n},function(e,t){var n=function(e){var t=e.fn;e.fn=function(e,n){e===-110&&(e={error:"图片大小不符合要求"}),t.call(this,e,n)}};e.exports=n},function(e,t){var n=function(e){var t={};return e.url&&(t.error="缺少参数url"),t};e.exports=function(e){var t=n(e),r=new XMLHttpRequest;return n.error&&e.fn&&"function"==typeof e.fn?void e.fn(t):void(r.upload&&(e.progress&&"function"==typeof e.progress&&!function(e){r.upload.onprogress=function(t){if(t.lengthComputable){var n=t.loaded/t.total;e.progress(e.file,n)}}}(e),r.open(e.method,e.uploadUrl,!0),r.setRequestHeader("Accept","*/*"),r.withCredentials=e.credentials,r.onreadystatechange=function(t){4===r.readyState&&(200===r.status?"function"==typeof e.fn&&e.fn(JSON.parse(r.response),e.file):e.fn({error:"上传失败"+r.responseText}))},r.send(e.data)))}},function(e,t){e.exports={typeFormat:function(e){return"*"===e?"*":e&&e.length?(e.forEach(function(t,n){e[n]="*."+t}),e.join(";")):""},sizeFormat:function(e){if(!e||!parseFloat(e,10))return"0B";for(var t="B",n=function(e){var t="B";switch(e){case"B":t="KB";break;case"KB":t="MB";break;case"MB":t="GB";break;case"GB":t="TB"}return t},e=parseInt(e,10);e>1024;)t=n(t),e=parseFloat(e/1024,10);return e+" "+t}}},function(e,t){e.exports=function(e){return!!(e.uploadUrl&&e.id&&e.fn)}},function(e,t){function n(e){return u(r(s(e),e.length*p))}function r(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var n=Array(80),r=1732584193,s=-271733879,u=-1732584194,c=271733878,p=-1009589776,l=0;l<e.length;l+=16){for(var d=r,h=s,g=u,v=c,m=p,y=0;y<80;y++){y<16?n[y]=e[l+y]:n[y]=f(n[y-3]^n[y-8]^n[y-14]^n[y-16],1);var _=a(a(f(r,5),o(y,s,u,c)),a(a(p,n[y]),i(y)));p=c,c=u,u=f(s,30),s=r,r=_}r=a(r,d),s=a(s,h),u=a(u,g),c=a(c,v),p=a(p,m)}return Array(r,s,u,c,p)}function o(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function i(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function a(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function f(e,t){return e<<t|e>>>32-t}function s(e){for(var t=Array(),n=(1<<p)-1,r=0;r<e.length*p;r+=p)t[r>>5]|=(e.charCodeAt(r/p)&n)<<24-r%32;return t}function u(e){for(var t=c?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return n}var c=0,p=8;e.exports=n},function(e,t,n){var r=(n(6),n(1)),o=n(3),i=function(e,t){var n={error:"",errorType:0},o=n.type=e.name.split(".").pop().toLowerCase();n.name=r.getRandomString(32)+"."+o;return(e.size<t.min||e.size>t.max)&&(n.error="图片大小不符合要求!",n.errorType=1),"*"===t.type?n:t.type.indexOf(o)===-1?(n.error="图片类型错误!",n.errorType=n.errorType?3:2,n):n},a=function(e,t,n){var r=new FormData;({name:n.fileName,file:e});n.file=e,r.append(n.fileName,e),n.data=r,o(n)},f=function(e,t){"static"!==r.css(e,"position")&&""!==r.css(e,"position")||r.css(e,"position","relative");var n=t.isMultiple?"multiple":"",o='<input type="file"'+n+' style="position: absolute; width: 100%; height: 100%; opacity: 0; filter: alpha(opacity=0); cursor: pointer; top: 0; left: 0; z-index: 100;" name="" />';r.prepend(e,o);var f=e.querySelector("input");e.addEventListener("change",function(e){var n,o,s=e.target.files,u=[],c="";for(n=0;n<s.length;n++)o=s[n],u[n]=i(o,t).errorType;if(u.indexOf(1)===-1&&u.indexOf(3)===-1||(c+="图片大小不符合要求"),u.indexOf(2)===-1&&u.indexOf(3)===-1||(c&&(c+="、"),c+="图片格式不符合要求"),c)return void t.fn({error:c});for(n=0;n<s.length;n++){o=s[n];var p=i(o,t);!function(){var e=t.fn;t.fn=function(t,n){e.call(this,t,n),f.value=""}}(),t.beforeUpload&&t.beforeUpload(o),a(o,p.name,r.clone(t))}})};e.exports=f},function(e,t,n){function r(e,t){if(e){d.config({file_size_limit:s.sizeFormat(t.max),file_size_limit:t.max+"B",file_post_name:t.fileName,file_types:s.typeFormat(t.type),upload_progress_handler:t.progress,button_placeholder_id:"selectFiles4"}),t.id=c++;var n=t.fn;return t.fn=function(e,t){"string"==typeof e&&(e=JSON.parse(e)),n.apply(this,arguments)},void d.create(e,t)}}var o=!1,i=[],a="http://changyan.itc.cn/mdevp/extensions/cui/002/swfupload.v2.2.0/",f=n(1),s=n(4),u={flash_url:a+"swfupload.swf",prevent_swf_caching:!1,file_size_limit:"1 MB",file_post_name:"file",file_types:"*.jpg;*.png;*.gif;*.jpeg",button_text:"",button_image_url:a+"swfupload.js?button_image_url"},c=0,p=function(e,t){var n=document.getElementsByTagName("head")[0]||document.head||document.documentElement,r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("charset","UTF-8"),r.setAttribute("src",e),"function"==typeof t&&(window.attachEvent?r.onreadystatechange=function(){var e=r.readyState;"loaded"!==e&&"complete"!==e||(r.onreadystatechange=null,t())}:r.onload=t),n.appendChild(r)},l=function(e,t){var n=f.getHeight(e),r=f.getWidth(e);"static"!==f.css(e,"position")&&""!==f.css(e,"position")||f.css(e,"position","relative");var o="id-"+ +new Date,i='\t            <span style="position: absolute; top: 0; left: 0; height: '+n+"px; width: "+r+'px; overflow: hidden; opacity: 0; filter:alpha(opacity=0); z-index: 100;">\t                <span  id="'+o+'"></span>\t            </span>\t        ';f.prepend(e,i);var a=f.extends(u,{upload_url:t.uploadUrl,button_placeholder_id:o,button_width:r,button_height:n,button_cursor:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,conf:t,upload_start_handler:function(){this.settings.conf.beforeUpload()},file_dialog_complete_handler:function(){this.startUpload()},file_queue_error_handler:function(e,t,n){this.settings.conf.fn(t,n)},upload_success_handler:function(e,t,n){this.settings.conf.fn(t,e)}});new SWFUpload(f.clone(a))},d={create:function(e,t){if(window.SWFUpload)l(e,t);else{if(i.push([e,t]),o)return;o=!0,p(a+"swfupload.js",function(){o=!1;var e,t;for(e=0;e<i.length;e++)t=i[e],l(t[0],t[1]);i=[]})}},config:function(e){f.extends(u,e)}};e.exports=r}])});
//# sourceMappingURL=bundle.js.map